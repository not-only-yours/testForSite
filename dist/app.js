!function(){"use strict";function e(){document.getElementById("allMain").style.visibility="visible",document.getElementById("spinner").style.visibility="hidden"}function t(t,n){return document.getElementById("allMain").style.visibility="hidden",document.getElementById("spinner").style.visibility="visible",fetch(n).then((function(t){if(t.ok)return e(),t.json()}))}function n(e){if(null===localStorage.getItem("cart")){document.getElementById("total").innerHTML="PRISE: 0$",document.getElementById("basketDi").innerHTML="";var t=[];t[0]=e,localStorage.cart=JSON.stringify(t),document.getElementById("basketDi").innerHTML="",a(e)}else{var n=JSON.parse(localStorage.cart),d=!0;for(var o in console.log(n),n)d&&n[o].id===e.id&&(n[o].pcs++,d=!1);for(var c in d&&(console.log(n),n.push(e)),document.getElementById("basketDi").innerHTML="",i=0,n)a(n[c]);localStorage.cart=JSON.stringify(n),l()}}function a(e){var t=document.createElement("div");t.classList.add("oneofItemInCart");var n=document.createElement("img");n.src=e.images,n.style.width="100px",n.style.height="100%";var a=document.createElement("p");a.classList.add("nameofBike"),a.innerHTML=e.productName;var i=document.createElement("input");i.value=e.pcs,i.classList.add("inputNum");var l=document.createElement("p");l.classList.add("priseOfBike"),l.innerHTML=e.prise.concat("$");var o=document.createElement("BUTTON");o.classList.add("orderDelete");var c=e.id;o.id="cart".concat(c),o.addEventListener("click",(function(){d(o.id)})),o.innerHTML="delete",t.appendChild(n),t.appendChild(a),t.appendChild(i),t.appendChild(l),t.appendChild(o),document.getElementById("basketDi").appendChild(t)}function d(e){e=e.replace("cart","");var t=JSON.parse(localStorage.cart);for(var n in t)if(t[n].id===e){t.splice(n,1);break}for(var d in document.getElementById("basketDi").innerHTML="",t)a(t[d]);if(Array.isArray(t)&&t.length)localStorage.cart=JSON.stringify(t);else{localStorage.removeItem("cart");var i=document.createElement("p");i.classList.add("nameofBike"),i.classList.add("empty"),i.innerHTML="cart is empty",document.getElementById("basketDi").appendChild(i)}l()}var i=0;function l(){i=0;var e=JSON.parse(localStorage.getItem("cart"));for(var t in e)i+=e[t].prise*e[t].pcs;var n="Prise: ".concat(i.toString());document.getElementById("total").innerHTML=n.concat("$")}var o,c,r=!1;function s(){var e=document.createElement("div");e.style.backgroundColor="white";var t=document.createElement("h1");e.appendChild(t),t.innerHTML="confirm order",t.style.width="98%";var n=document.createElement("div");n.classList.add("parent"),e.appendChild(n);var a=document.createElement("div");a.classList.add("div1"),n.appendChild(a);var d=document.createElement("p");d.innerHTML="Name",d.id="pName",a.appendChild(d);var i=document.createElement("input");i.type="text",i.id="name",i.pattern="[A-Z][a-z]{1,15}",a.appendChild(i);var l=document.createElement("div");l.classList.add("div2"),n.appendChild(l);var o=document.createElement("p");o.innerHTML="Surname",o.id="pSurname",l.appendChild(o);var s=document.createElement("input");s.type="text",l.appendChild(s),s.pattern="[A-Z][a-z]{1,15}",s.id="surname";var p=document.createElement("div");p.classList.add("div3"),n.appendChild(p);var h=document.createElement("p");h.innerHTML="Telephone",h.id="pPhone",p.appendChild(h);var y=document.createElement("input");y.type="text",y.pattern="[+][0-9]{12}",y.id="phone",p.appendChild(y);var g=document.createElement("div");g.classList.add("div4"),n.appendChild(g);var v=document.createElement("p");v.innerHTML="Email",v.id="pMail",g.appendChild(v);var E=document.createElement("input");E.type="text",E.id="mail",g.appendChild(E),document.getElementById("allMain").innerHTML="",document.getElementById("allMain").appendChild(e);var f=document.createElement("div");n.appendChild(f),f.classList.add("div1");var L=document.createElement("p");L.innerHTML="Address",f.appendChild(L);var b=document.createElement("input");b.type="text",f.appendChild(b),b.id="address";var C=document.createElement("div");n.appendChild(C),C.classList.add("div2");var B=document.createElement("p");B.innerHTML="Type of paying",C.appendChild(B);var I=document.createElement("input");I.type="text",C.appendChild(I),I.id="typeofPaying";var k=document.createElement("div");document.getElementById("allMain").appendChild(k);var T=document.createElement("h1");if(T.innerHTML="cart",T.style.width="98.3%",T.style.backgroundColor="#b7a49e",k.appendChild(T),k.classList.add("block"),localStorage.cart){m();var M=document.createElement("BUTTON");M.id="viber",M.style.width="100%",M.style.height="50px",M.innerHTML="submit",M.style.height="60px",M.style.padding="0",M.classList.add("AddButton"),document.getElementById("allMain").appendChild(M),document.getElementById("viber").addEventListener("click",(function(){if(E.setCustomValidity(""),i.setCustomValidity(""),s.setCustomValidity(""),y.setCustomValidity(""),u(document.getElementById("mail").value)||(E.setCustomValidity("invalid"),document.getElementById("pMail").innerHTML="Email (write correct mail)"),document.getElementById("name").checkValidity()&&""!==document.getElementById("name").value||(i.setCustomValidity("invalid"),document.getElementById("pName").innerHTML="Name (English, big letter than small)"),document.getElementById("surname").checkValidity()&&""!==document.getElementById("surname").value||(y.setCustomValidity("invalid"),document.getElementById("pSurname").innerHTML="Surname (English, big letter than small)"),document.getElementById("phone").checkValidity()&&""!==document.getElementById("phone").value||(s.setCustomValidity("invalid"),document.getElementById("pPhone").innerHTML="Phone ('+' than 13 numbers)"),u(document.getElementById("mail").value)&&document.getElementById("name").checkValidity()&&document.getElementById("surname").checkValidity()&&document.getElementById("phone").checkValidity()){var e={email:document.getElementById("mail").value,name:document.getElementById("name").value,surname:document.getElementById("surname").value,phone:document.getElementById("phone").value,address:document.getElementById("address").value,typeofPaying:document.getElementById("typeofPaying").value,cart:JSON.parse(localStorage.cart)};console.log(e),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(t,{method:e,body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.json()}))}("POST","https://jsonplaceholder.typicode.com/users",e).then((function(e){c=e.id})).catch((function(e){return console.log(e)})),r=!0,c||(c=11),location.hash="checkOrderStatus/"+c}}))}else{var H=document.createElement("h1");H.innerHTML="cart is empty. Add smth to confirm order",H.style.width="98.3%",H.style.backgroundColor="#fafafa",k.appendChild(H)}}function m(){var e=JSON.parse(localStorage.cart);document.getElementById("basketDi").innerHTML="";for(var t=document.getElementsByClassName("oneofItemInCart");t[0];)t[0].parentNode.removeChild(t[0]);for(var n in e)p(e[n])}function p(e){var t=document.createElement("div");t.classList.add("oneofItemInCart"),t.style.backgroundColor="gray";var n=document.createElement("img");n.src=e.images,n.style.width="100px",n.style.height="100%";var a=document.createElement("p");a.classList.add("nameofBike"),a.innerHTML=e.productName;var i=document.createElement("input");i.value=e.pcs,i.classList.add("inputNum");var l=document.createElement("p");l.classList.add("priseOfBike"),l.innerHTML=e.prise.concat("$");var o=document.createElement("BUTTON");o.classList.add("orderDelete");var c=e.id;o.id="cart".concat(c),o.addEventListener("click",(function(){d(o.id),s()})),o.innerHTML="delete",t.appendChild(n),t.appendChild(a),t.appendChild(i),t.appendChild(l),t.appendChild(o),document.getElementById("allMain").appendChild(t)}function u(e){return/\S+@\S+\.\S+/.test(e)}function h(e){document.getElementById("allMain").innerHTML="";var t=document.createElement("H1");t.innerHTML=e.title;var n=document.createElement("div");n.classList.add("wrapper");var a=document.createElement("div");a.classList.add("main__about"),n.appendChild(a);var d=document.createElement("div"),i=document.createElement("div");d.classList.add("about__left"),i.classList.add("about__right"),a.appendChild(d),a.appendChild(i),i.style.marginTop="-80px";var l=document.createElement("img");l.src=e.url,l.style.width="3000px",l.style.marginLeft="50px",l.classList.add("mw-100"),d.appendChild(l);var o=document.createElement("h1");o.innerHTML="SOME WORDS ABOUT ACTION";var c=document.createElement("p");c.innerHTML=e.info,i.appendChild(o),i.appendChild(c);var r=document.createElement("ul"),s=document.createElement("li"),m=e.date;s.innerHTML="date: ".concat(m),s.style.fontSize="20px",s.style.textTransform="uppercase",s.style.fontWeight="bold",s.style.backgroundColor="#e7dedb",s.style.listStyleType="none",s.style.borderRadius="10px",r.appendChild(s),i.appendChild(r);var p=document.createElement("BUTTON");p.classList.add("AddButton");var u=e.id;p.id=u.concat("Cart"),p.innerHTML="start shopping",p.addEventListener("click",(function(){location.hash="catalog"})),i.appendChild(p),document.getElementById("allMain").appendChild(t),document.getElementById("allMain").appendChild(n)}document.getElementById("createorder")&&document.getElementById("createorder").addEventListener("click",(function(){location.hash="createOrder"}));function y(){return document.getElementById("allMain")}function g(){var e=document.createElement("div");e.classList.add("catalog");var n=document.createElement("h1");n.innerHTML="catalog",n.style.color="black",e.appendChild(n);var a=document.createElement("ul");a.classList.add("footerMenu"),e.appendChild(a),JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.productsCategories){var n=document.createElement("li");n.id=e.productsCategories[t].url,n.innerHTML=e.productsCategories[t].name,a.appendChild(n)}})).catch((function(e){return console.log(e)}))),y().appendChild(e)}function v(e){var n=document.createElement("div");n.classList.add("Type"),JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(t){for(var a in t.bikes)if(t.bikes[a].categoryID===e){var d=document.createElement("div");d.classList.add("div1");var i=document.createElement("img");i.style.width="100%",i.src=t.bikes[a].images,d.appendChild(i);var l=document.createElement("p");l.innerHTML=t.bikes[a].productName,d.appendChild(l);var o=document.createElement("BUTTON");o.classList.add("AddButton"),o.id=t.bikes[a].id,o.innerHTML="check",d.appendChild(o),n.appendChild(d)}var c=document.createElement("h1");document.getElementById("sport")||(c.innerHTML="suggested",y().appendChild(c),c.style.marginTop="-50px",c.style.backgroundColor="green"),y().appendChild(n)})).catch((function(e){return console.log(e)})))}function E(){JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.bikes)document.getElementById(e.bikes[t].id)&&document.getElementById(e.bikes[t].id).addEventListener("click",(function(){location.hash="product/".concat(this.id)}))})).catch((function(e){return console.log(e)})))}function f(){JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.productsCategories)document.getElementById(e.productsCategories[t].url)&&document.getElementById(e.productsCategories[t].url).addEventListener("click",(function(){location.hash="catalog/".concat(this.id)}))})).catch((function(e){return console.log(e)})))}function L(e){var t=document.createElement("H1");t.innerHTML=e.productName;var a=document.createElement("div");a.classList.add("wrapper");var d=document.createElement("div");d.classList.add("main__about"),a.appendChild(d);var i=document.createElement("div"),l=document.createElement("div");i.classList.add("about__left"),l.classList.add("about__right"),d.appendChild(i),d.appendChild(l),l.style.marginTop="-80px";var o=document.createElement("img");o.src=e.images,o.style.width="3000px",o.style.marginLeft="50px",o.classList.add("mw-100"),i.appendChild(o);var c=document.createElement("h1");c.innerHTML="SOME WORDS ABOUT BIKE";var r=document.createElement("p");r.innerHTML=e.info,l.appendChild(c),l.appendChild(r);var s=document.createElement("ul"),m=document.createElement("li"),p=document.createElement("li"),u=e.prise,h="price: ";m.innerHTML=h.concat(u),m.style.fontSize="50px",m.style.textTransform="uppercase",m.style.fontWeight="bold",m.style.backgroundColor="#e7dedb",m.style.listStyleType="none",m.style.borderRadius="10px",u=e.categoryID,h="Category: ",p.innerHTML=h.concat(u),p.style.listStyleType="none",p.style.textTransform="uppercase",p.style.fontWeight="bold",s.appendChild(m),s.appendChild(p),l.appendChild(s);var y=document.createElement("BUTTON");y.classList.add("AddButton");var g=e.id;y.id=g.concat("Cart"),y.innerHTML="to cart",y.addEventListener("click",(function(){n(e)})),l.appendChild(y),document.getElementById("allMain").appendChild(t),document.getElementById("allMain").appendChild(a)}function b(e){y().innerHTML="",JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(t){for(var n in t.bikes)e===t.bikes[n].id&&(console.log(t.bikes[n].id),v(t.bikes[n].categoryID),E())})).catch((function(e){return console.log(e)})))}function C(){if(localStorage.cart){var e=JSON.parse(localStorage.cart);for(var t in document.getElementById("basketDi").innerHTML="",e)a(e[t])}else{document.getElementById("basketDi").innerHTML="";var n=document.createElement("p");n.classList.add("nameofBike"),n.classList.add("empty"),n.innerHTML="cart is empty",document.getElementById("basketDi").appendChild(n)}}function B(){if("/basket"===location.hash.slice(-7))document.getElementById("basketDi").style.display="block",document.getElementById("cart").style.display="block",document.getElementById("menu").style.display="none";else if("offers"===location.hash.slice(1))(function(){document.getElementById("allMain").innerHTML="";var e=document.createElement("div");e.classList.add("grids"),JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(t){for(var n in t.sales){var a=document.createElement("div");a.classList.add("gridElement"),e.appendChild(a);var d=document.createElement("img");d.src=t.sales[n].url;var i=document.createElement("p");i.innerHTML=t.sales[n].title;var l=document.createElement("BUTTON");a.appendChild(d),a.appendChild(i),a.appendChild(l),l.innerHTML="visit",l.id=t.sales[n].id}})).catch((function(e){return console.log(e)}))),document.getElementById("allMain").appendChild(e),JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.sales)document.getElementById(e.sales[t].id)&&document.getElementById(e.sales[t].id).addEventListener("click",(function(){location.hash="offer/".concat(this.id)}))})).catch((function(e){return console.log(e)})))})(),document.getElementById("basket").style.display="block";else if("catalog/"===location.hash.substring(1,9)){var n=location.hash.slice(9);"bmx"===n||"vintage"===n||"mtb"===n||"sport"===n?(console.log(n),l=n,y().innerHTML="",g(),f(),JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.productsCategories)if(l===e.productsCategories[t].url){var n=document.createElement("H1");n.style.backgroundColor="#b7a49e",n.style.width="98.3%",n.innerHTML=e.productsCategories[t].name,document.getElementById("allMain").appendChild(n);var a=document.createElement("p");a.innerHTML=e.productsCategories[t].info,a.style.paddingLeft="40px",a.style.paddingight="40px",a.style.paddingTop="20px",a.style.paddingBottom="20px",a.style.fontSize="20px",a.style.borderRadius="10px",a.style.backgroundColor="#cbcbcb",document.getElementById("allMain").appendChild(a)}})).catch((function(e){return console.log(e)}))),v(l),E()):location.hash=""}else if("product/"===location.hash.substring(1,9))parseInt(location.hash.slice(9))||"0"===location.hash.slice(9)?function(e){JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(t){for(var n in t.bikes)e===t.bikes[n].id&&(b(t.bikes[n].id),L(t.bikes[n]))})).catch((function(e){return console.log(e)})))}(location.hash.slice(9)):location.hash="";else if("offer/"===location.hash.substring(1,7))if(parseInt(location.hash.slice(7))||"0"===location.hash.slice(7)){var a=location.hash.slice(7);i=a,JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.sales)e.sales[t].id===i&&(console.log(e.sales[t]),h(e.sales[t]))})).catch((function(e){return console.log(e)})))}else location.hash="";else"catalog"===location.hash.slice(1)?(y().innerHTML="",g(),(d=document.createElement("div")).classList.add("Type"),JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.bikes){var n=document.createElement("div");n.classList.add("div1");var a=document.createElement("img");a.style.width="100%",a.src=e.bikes[t].images,n.appendChild(a);var i=document.createElement("p");i.innerHTML=e.bikes[t].productName,n.appendChild(i);var l=document.createElement("BUTTON");l.classList.add("AddButton"),l.id=e.bikes[t].id,l.innerHTML="check",n.appendChild(l),d.appendChild(n),y().appendChild(d)}})).catch((function(e){return console.log(e)}))),f(),E(),document.getElementById("basket").style.display="block",C()):"createOrder"===location.hash.slice(1)?(document.getElementById("basket").style.display="none",document.getElementById("basketDi").style.display="none",document.getElementById("cart").style.display="none",document.getElementById("menu").style.display="block",s()):location.hash.slice(1)==="checkOrderStatus/"+c&&r?(function(){var e=document.createElement("div");e.style.backgroundColor="white";var t=document.createElement("h1");e.appendChild(t),t.innerHTML="thank you! order confirmed!",t.style.backgroundColor="green";var n=document.createElement("div");n.classList.add("parent"),e.appendChild(n);var a=document.createElement("div");a.classList.add("div1"),n.appendChild(a);var d=document.createElement("p");d.innerHTML="Name: "+document.getElementById("name").value,a.appendChild(d);var i=document.createElement("div");i.classList.add("div1"),n.appendChild(i);var l=document.createElement("p");l.innerHTML="Surname: "+document.getElementById("surname").value,i.appendChild(l);var c=document.createElement("div");c.classList.add("div1"),n.appendChild(c);var r=document.createElement("p");r.innerHTML="Phone: "+document.getElementById("phone").value,c.appendChild(r);var s=document.createElement("div");s.classList.add("div1"),n.appendChild(s);var m=document.createElement("p");if(m.innerHTML="Mail: "+document.getElementById("mail").value,s.appendChild(m),""!==document.getElementById("address").value){var p=document.createElement("div");p.classList.add("div1"),n.appendChild(p);var u=document.createElement("p");u.innerHTML="Address: "+document.getElementById("address").value,p.appendChild(u)}if(""!==document.getElementById("typeofPaying").value){var h=document.createElement("div");h.classList.add("div1"),n.appendChild(h);var y=document.createElement("p");y.innerHTML="Type of paying: "+document.getElementById("typeofPaying").value,h.appendChild(y)}o=e}(),document.getElementById("allMain").innerHTML="",document.getElementById("allMain").appendChild(o),m(),localStorage.removeItem("cart"),document.querySelectorAll(".orderDelete").forEach((function(e){return e.remove()}))):(document.getElementById("basket").style.display="block",C(),document.getElementById("allMain").innerHTML="",document.getElementById("allMain").innerHTML='<div class="main" id="allMain" data-value="main">\n\n    <div class="infoBlock" style="background-image: url(HTML/css/images/main/bike.jpg);">\n        <p class="textofInfoBox">What a beautiful bike </p>\n        <p class="textofInfoBox">timeless, atmospheric</p>\n        <p class="textofInfoBox" id="last">&amp; uncredible bikes!</p>\n        <div class="photosofInfoBlock">\n            <img class="photosofInfoBlockImage" id="firstPhoto" src="css/images/main/left.jpg" width="29%" alt="mountainBike">\n            <img class="photosofInfoBlockImage" id="centerPhotoofInfoBlock" src="css/images/main/center.jpg" width="14.5%" alt="roadBike">\n            <img class="photosofInfoBlockImage" id="lastPhoto" src="css/images/main/right.jpg" width="29%" alt="forestBike">\n        </div>\n    </div>\n<div style="background-color: green; margin: 0; padding:10px 10px">\n    <h1 style="background-color: transparent">bestseller</h1>\n</div>\n    <div class="sales">\n        <img src="../HTML/images/main/salesBike.png" width="40%" alt="">\n        <div class="salesInfo">\n            <p class="headSales">Bicycle RetroSyperb Vii #1</p>\n            <p class="h2Sales">by Rodriguez Else</p>\n            <p class="prise">299.99$</p>\n            <button class="saleButton" id="sale">Add to Shopping bag</button>\n        </div>\n    </div>\n    <div class="scroll">\n\n    </div>\n    <div class="browseShop" style="background-image: url(\'HTML/css/images/main/shop.png\');">\n        <button class="browseShopButton" id="browseShop" >browse shop</button>\n    </div>\n\n    <h1>everybody can join us</h1>\n\n   \n    </div>\n\n\n</div>',e());var d,i,l}window.addEventListener("load",(function(){l(),B()})),window.addEventListener("hashchange",(function(){l(),B()})),document.getElementById("basket").addEventListener("click",(function(){"/basket"===location.hash.slice(-7)?(location.hash=location.hash.substring(0,location.hash.length-7),document.getElementById("basketDi").style.display="none",document.getElementById("cart").style.display="none",document.getElementById("menu").style.display="block"):location.hash+="/basket"})),document.getElementById("bikes").addEventListener("click",(function(){location.hash="catalog"})),document.getElementById("main").addEventListener("click",(function(){location.hash="",document.getElementById("basket").style.display="block",C()})),document.getElementById("offers").addEventListener("click",(function(){location.hash="offers"})),window.addEventListener("load",(function(){location.hash="",C()})),document.getElementById("sale").addEventListener("click",(function(){JSON.stringify(t(0,"https://my-json-server.typicode.com/not-only-yours/jsonFileFor4Lab/db").then((function(e){for(var t in e.bikes)8===parseInt(e.bikes[t].id)&&n(e.bikes[t])})).catch((function(e){return console.log(e)})))}))}();